name: 'Saplings - Events'
description: 'Creates an Search Engine Optimized Event system.'
type: 'Site'
recipes:
  - core/recipes/content_editor_role
  - events
  - events_calendar
  - events_locations
install:
  # Core.
  - image
  - link
  - link_attributes
  - media
  - node
  - options
  - taxonomy
  # Contrib.
  - access_unpublished
  - field_group
  - metatag
  - metatag_open_graph
  - metatag_twitter_cards
  - pathauto
  - publication_date
  - quick_node_clone
  - schema_event
  - token
  - token_or
  - view_unpublished
config:
  actions:
    # Set permissions for anonymous role.
    user.role.anonymous:
      createIfNotExists:
        id: anonymous
      grantPermissions:
        - 'access_unpublished node event'
    # Set permissions for content editor role.
    user.role.content_editor:
      createIfNotExists:
        id: content_editor
      grantPermissions:
        - 'access_unpublished node event'
        - 'clone event content'
        - 'create event content'
        - 'create terms in sa_event_category'
        - 'delete own event content'
        - 'delete event revisions'
        - 'edit any event content'
        - 'edit own event content'
        - 'edit terms in sa_event_category'
        - 'revert event revisions'
        - 'set event published on date'
        - 'view any unpublished event content'
        - 'view event revisions'
    core.entity_form_display.node.event.default:
      setComponents:
        -
          name: published_at
          options:
            type: publication_date_timestamp
            weight: 15
            region: content
            settings: {  }
            third_party_settings: {  }
        -
          name: sa_attendance_mode
          options:
            type: options_select
            weight: 4
            region: content
            settings: {  }
            third_party_settings: {  }
        -
          name: sa_availability
          options:
            type: options_select
            weight: 7
            region: content
            settings: {  }
            third_party_settings: {  }
        -
          name: sa_cost
          options:
            type: number
            weight: 11
            region: content
            settings:
              placeholder: ''
            third_party_settings: {  }
        -
          name: sa_currency
          options:
            type: options_select
            weight: 12
            region: content
            settings: {  }
            third_party_settings: {  }
        -
          name: sa_event_category
          options:
            type: entity_reference_autocomplete
            weight: 10
            region: content
            settings:
              match_operator: CONTAINS
              match_limit: 10
              size: 60
              placeholder: ''
            third_party_settings: {  }
        -
          name: sa_event_status
          options:
            type: options_select
            weight: 5
            region: content
            settings: {  }
            third_party_settings: {  }
        -
          name: sa_event_type
          options:
            type: options_select
            weight: 8
            region: content
            settings: {  }
            third_party_settings: {  }
        -
          name: sa_register_link
          options:
            type: link_default
            weight: 13
            region: content
            settings:
              placeholder_url: ''
              placeholder_title: ''
            third_party_settings: {  }
        -
          name: sa_validfrom
          options:
            type: datetime_default
            weight: 9
            region: content
            settings: {  }
            third_party_settings: {  }
        -
          name: sa_virtuallocation
          options:
            type: link_default
            weight: 6
            region: content
            settings:
              placeholder_url: ''
              placeholder_title: ''
            third_party_settings: {  }
      hideComponents:
        - uid
        - path
    core.entity_view_display.node.event.*:
      hideComponents:
        - links
